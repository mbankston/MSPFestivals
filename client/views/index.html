<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MSP Festivals</title>
    <!--STYLES-->
    <link href='http://fonts.googleapis.com/css?family=Raleway:400,700' rel='stylesheet' type='text/css'>
    <link href='https://api.mapbox.com/mapbox.js/v2.2.1/mapbox.css' rel='stylesheet' />
    <link rel="stylesheet" href="/vendors/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="/assets/styles/style.css">
</head>
<div ng-app="myApp" ng-controller="mapboxController">
    <nav class="navbar navbar-default">
        <div class="container-fluid">
            <div class="navbar-header">
                <a class="navbar-brand" href="#">MSP Festivals</a>
            </div>
            <div>
                <ul class="nav navbar-nav">
                    <li class="active"><a href="#">Home</a></li>
                    <li><a href="#">Add Your Festival!</a></li>

                </ul>
            </div>
        </div>
    </nav>
    <mapbox map-id = "mbankston.n73om6d8"
            width = 100%
            height = 500
            lat = "44.97"
            lng = "-93.265"
            zoom = "11" scale-to-fit>

        <!--<marker lat="44.956230" lng="-93.285863" color="blue" icon="zoo">-->
        <!--<h1>status: {{ status }}</h1>-->
        <!--{{ farmersMarkets[0] | json}}-->
        <!--</marker>-->

        <marker ng-repeat="festival in festivals | filter: filterTerm | filter: locationFilter| filter: monthFilter"
                lat="{{festival.coords.lat}}"
                lng="{{festival.coords.lng}}"
                color="blue"
                icon="marker-stroked">
            <h1>{{festival.name}}</h1>
            <p>{{festival.times}}</p>
        </marker>
    </mapbox>
    <div class="searchbox col-md-6">
        <input type="text" ng-model="filterTerm" placeholder="search festivals">
        <ul class="list-unstyled">
            <li ng-repeat="festival in festivals | filter: filterTerm | filter: locationFilter | filter: monthFilter" >
                <h3>{{festival.name}}</h3>
                <p>{{festival.times}}</p>
                <p><a href="{{festival.website}}">WEBSITE</a></p>
            </li>
        </ul>
    </div>
    </mapbox>
    <div class="checkboxes col-md-6">
        <div class="locfilter">
            <h3>Select a City/Neighborhood</h3>
            <div ng-repeat="festival in festivals | unique: 'location'">
                <input type="checkbox" ng-model="festival.Loc" ng-click="includeLocation(festival.location)">{{festival.location}}
            </div>
            <!--<input type="checkbox" ng-click="includeLocation('Como')"/>Como-->
            <!--<input type="checkbox" ng-click="includeLocation('Loring Park')"/>Loring Park-->
            <!--<input type="checkbox" ng-click="includeLocation('Powderhorn')"/>Powderhorn-->
            <!--<input type="checkbox" ng-click="includeLocation('Northeast')"/>Northeast-->
        </div>

        <div class="monthfilter">
            <h3>Select a Month</h3>
            <div ng-repeat="festival in festivals | unique: 'month'">
                <input type="checkbox" ng-click="includeMonth(festival.month)">{{festival.month}}
            </div>
        </div>
    </div>
</div>
</body>
<!--SCRIPTS-->
<script src='https://api.mapbox.com/mapbox.js/v2.2.1/mapbox.js'></script>
<script type="text/javascript" src="/vendors/angular/angular.min.js"></script>
<script type="text/javascript" src="/vendors/angular-mapbox/dist/angular-mapbox.min.js"></script>
<script type="text/javascript" src="/assets/scripts/app.min.js"></script>
</html>